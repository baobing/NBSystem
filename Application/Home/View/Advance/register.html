<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link href="__PUBLIC__/Flat-UI/dist/css/vendor/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="__PUBLIC__/validator/dist/css/bootstrapValidator.css"/>
    <link href="__PUBLIC__/Flat-UI/dist/css/flat-ui.css" rel="stylesheet">
    <script type="text/javascript" src="__PUBLIC__/validator/vendor/jquery/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/validator/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="__PUBLIC__/validator/dist/js/bootstrapValidator.js"></script>
    <title>{$company}</title>
    <style>
        label {font-size: 18px;font-weight: 600;}
        .form-group{margin-bottom: 0px;}
    </style>

</head>
<body style=";margin: 0px auto;background: #ffffff">
      <img src="__PUBLIC__/pic/login_background.jpg" style="width:100%;height: 200px;"  >
<div class="row" style="margin-top: 20px;">
    <div class="col-md-4 col-md-offset-2">
        <form class="form-horizontal" id="fm" action="__URL__/insert" method="post">
            <div class="form-group">
                <label  class="col-sm-4 control-label" >账户名<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="account">
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">密码<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" name="password"  >
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">确认密码<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="password" class="form-control" name="confirmPassword"  >
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">真实姓名<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="real_name"  >
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">公司名称<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="company" >
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">联系电话<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="tel" >
                </div>
            </div>
            <div class="form-group">
                <label  class="col-sm-4 control-label">电子邮箱<i style="color: red">*</i></label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="email">
                </div>
            </div>

            <div class="form-group" style="margin-top: 10px;">
                <div class="col-md-8 col-md-offset-4">
                     <input type="submit" value="注册" class="btn  btn-block btn-info col-md-6" style="cursor: pointer">
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-3 col-md-offset-1">

        <div class="tile" style="height: 370px;">
            <img src="__PUBLIC__/Flat-UI/img/icons/svg/ribbon.svg" alt="ribbon" class="tile-hot-ribbon">
            <img src="__PUBLIC__/Flat-UI/img/icons/svg/chat.svg" alt="Chat" class="tile-image">
            <h3 class="tile-title">Welcome</h3>

        </div>

    </div>
</div>
      <script type="text/javascript">
          $(document).ready(function() {
              $('#fm').bootstrapValidator({
                          message: '信息不合法',
                          feedbackIcons: {
                              valid: 'glyphicon glyphicon-ok',
                              invalid: 'glyphicon glyphicon-remove',
                              validating: 'glyphicon glyphicon-refresh'
                          },
                          fields: {
                              account: {
                                  message: 'The username is not valid',
                                  validators: {
                                      notEmpty: {
                                          message: '用户名不能为空'
                                      },
                                      stringLength: {
                                          min: 6,
                                          max: 15,
                                          message: '用户名长度6-15'
                                      },
                                      remote: {
                                       url: '__URL__/validUser',
                                       message: '用户名已存在'
                                       },
                                      regexp: {
                                          regexp: /^[a-zA-Z0-9_\.]+$/,
                                          message: '用户名由数字、字母、下划线组成'
                                      }
                                  }
                              },
                              password: {
                                  validators: {
                                      notEmpty: {
                                          message: '密码不能为空'
                                      },
                                      stringLength: {
                                          min: 6,
                                          max: 15,
                                          message: '用户名长度6-15'
                                      },
                                      identical: {
                                          field: 'confirmPassword',
                                          message: '两个密码必须相同'
                                      }
                                  }
                              },
                              confirmPassword: {
                                  validators: {
                                      notEmpty: {
                                          message: '密码不能为空'
                                      },
                                      stringLength: {
                                          min: 6,
                                          max: 15,
                                          message: '用户名长度6-15'
                                      },
                                      identical: {
                                          field: 'password',
                                          message: '两个密码必须相同'
                                      }
                                  }
                              },
                              company:{
                                  validators: {
                                      notEmpty: {
                                          message: '公司不能为空'
                                      }
                                  }
                              },
                              tel:{
                                  validators: {
                                      regexp: {
                                          regexp: /((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)/,
                                          message: '电话号码不合法'
                                      },notEmpty: {
                                          message: '联系电话不能为空'
                                      }
                                  }
                              },
                              email:{
                                  validators: {
                                      notEmpty: {
                                          message: '邮箱不能为空'
                                      },
                                      emailAddress: {
                                          message: '邮箱地址不合法'
                                      }
                                  }
                              },
                              rel_name:{
                                  validators: {
                                      notEmpty: {
                                          message: '真实姓名不能为空'
                                      }
                                  }
                              }
                          }
                      })
                      .on('success.form.bv', function(e) {
                          e.preventDefault();
                          var $form = $(e.target);
                          var bv = $form.data('bootstrapValidator');
                          $.post($form.attr('action'), $form.serialize(), function(result) {
                             if(result) location.href="__URL__/pageSuccess";
                              else alert("出错");
                          }, 'json');
                      });
          });
          </script>
</body>